<!DOCTYPE html>

<!--
  Copyright (c) 2017, TrumpNeverLies. All rights reserved. Use of this source code
  is governed by a BSD-style license that can be found in the LICENSE file.
-->

<html class="SandboxRoot env-bp-350">
<head itemscope itemtype="http://schema.org/SoftwareApplication">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title itemprop="name">Trump never lies!</title>
    <meta name="description" itemprop="description" content="Coming soon">

    <link rel="apple-touch-icon" sizes="57x57" href="/img/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/img/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/img/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/img/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/img/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/img/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/img/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/img/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/img/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/img/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!--<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">-->
    <!--<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>-->

    <link type="text/css" rel="stylesheet" href="libs/tweet.light.ltr.css">
    <style>
        .EmbeddedTweet {
            /*position: absolute;*/
            /*top: 0;*/
            /*left: 50%;*/
            /*transform: scale(2,2);*/
        }
    </style>
    <script src="../files.js"></script>
</head>

<body>

<h1>Original</h1>

<blockquote class="twitter-tweet" data-lang="fr"><p lang="en" dir="ltr">Going to CPAC!</p>&mdash; Donald J. Trump
    (@realDonaldTrump) <a href="https://twitter.com/realDonaldTrump/status/835124485632180224">24 février 2017</a>
</blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<h1>Copied</h1>

<div class="EmbeddedTweet js-clickToOpenTarget"
     data-click-to-open-target="https://twitter.com/realDonaldTrump/status/835124485632180224"
     data-iframe-title="Tweet de Twitter" data-dt-full="%{hours24}:%{minutes} - %{day} %{month} %{year}"
     data-dt-months="Janv|Févr|Mars|Avr|Mai|Juin|Juil|Août|Sept|Oct|Nov|Déc" data-dt-am="AM" data-dt-pm="PM"
     data-dt-now="maintenant" data-dt-s="s" data-dt-m="m" data-dt-h="h" data-dt-second="seconde"
     data-dt-seconds="secondes" data-dt-minute="minute" data-dt-minutes="minutes" data-dt-hour="heure"
     data-dt-hours="heures" data-dt-abbr="%{number}%{symbol}" data-dt-short="%{day} %{month}"
     data-dt-long="%{day} %{month} %{year}" data-scribe="page:tweet" id="twitter-widget-0" data-twitter-event-id="0"
     lang="fr">

    <div class="EmbeddedTweet-tweet">
        <blockquote class="Tweet h-entry js-tweetIdInfo subject expanded
                   is-deciderHtmlWhitespace" cite="https://twitter.com/realDonaldTrump/status/835124485632180224"
                    data-tweet-id="835124485632180224" data-scribe="section:subject">
            <div class="Tweet-header u-cf">
                <div class="Tweet-brand u-floatRight">
      <span class="u-hiddenInNarrowEnv">
<a class="FollowButton follow-button profile" data-scribe="component:followbutton"
   href="https://twitter.com/realDonaldTrump" role="button" title="Suivre Donald J. Trump sur Twitter"><span
        class="FollowButton-bird"><div class="Icon Icon--twitter " aria-label="" title=""
                                       role="presentation"></div></span> Suivre</a>
</span>
                    <span class="u-hiddenInWideEnv"><a href="https://twitter.com/download" data-scribe="element:logo"><div
                            class="Icon Icon--twitter " aria-label="Téléchargez l'application Twitter"
                            title="Téléchargez l'application Twitter" role="img"></div></a></span>
                </div>

                <div class="TweetAuthor " data-scribe="component:author">
                    <a class="TweetAuthor-link Identity u-linkBlend" data-scribe="element:user_link"
                       href="https://twitter.com/realDonaldTrump"
                       aria-label="Donald J. Trump (nom d'utilisateur : realDonaldTrump)">
    <span class="TweetAuthor-avatar Identity-avatar">
      <img class="Avatar" data-scribe="element:avatar"
           data-src-2x="https://pbs.twimg.com/profile_images/1980294624/DJT_Headshot_V2_bigger.jpg" alt=""
           data-src-1x="https://pbs.twimg.com/profile_images/1980294624/DJT_Headshot_V2_normal.jpg"
           src="https://pbs.twimg.com/profile_images/1980294624/DJT_Headshot_V2_bigger.jpg">
    </span>
                        <span class="TweetAuthor-name Identity-name customisable-highlight" title="Donald J. Trump"
                              data-scribe="element:name">Donald J. Trump</span>
                        <span class="TweetAuthor-verifiedBadge" data-scribe="element:verified_badge"><div
                                class="Icon Icon--verified " aria-label="Compte certifié" title="Compte certifié"
                                role="img"></div><b class="u-hiddenVisually">✔</b></span>
                        <span class="TweetAuthor-screenName Identity-screenName" title="@realDonaldTrump"
                              data-scribe="element:screen_name" dir="ltr">@realDonaldTrump</span>
                    </a>
                </div>

            </div>
            <div class="Tweet-body e-entry-content" data-scribe="component:tweet">

                <p class="Tweet-text e-entry-title" dir="ltr" lang="en">Going to CPAC!</p>


                <div class="Tweet-metadata dateline">


                    <a class="u-linkBlend u-url customisable-highlight long-permalink"
                       data-datetime="2017-02-24T13:49:27+0000" data-scribe="element:full_timestamp"
                       href="https://twitter.com/realDonaldTrump/status/835124485632180224">


                        <time class="dt-updated" datetime="2017-02-24T13:49:27+0000" pubdate=""
                              title="Heure d'envoi : 24 Févr 2017, 13:49:27 (UTC)">14:49 - 24 Févr 2017
                        </time>
                    </a>
                </div>


                <ul class="Tweet-actions" data-scribe="component:actions" role="menu" aria-label="Actions du Tweet">
                    <li class="Tweet-action">
                        <a class="TweetAction TweetAction--reply web-intent"
                           href="https://twitter.com/intent/tweet?in_reply_to=835124485632180224"
                           data-scribe="element:reply">
                            <div class="Icon Icon--reply TweetAction-icon" aria-label="Répondre" title="Répondre"
                                 role="img"></div>
                        </a></li>
                    <li class="Tweet-action">
                        <a class="TweetAction TweetAction--retweet web-intent"
                           href="https://twitter.com/intent/retweet?tweet_id=835124485632180224"
                           data-scribe="element:retweet">
                            <div class="Icon Icon--retweet TweetAction-icon" aria-label="Retweeter" title="Retweeter"
                                 role="img"></div>
                            <span class="TweetAction-stat" data-scribe="element:retweet_count" aria-hidden="true">8&nbsp;318</span>
                            <span class="u-hiddenVisually">8&nbsp;318 Retweets</span>
                        </a></li>
                    <li class="Tweet-action">
                        <a class="TweetAction TweetAction--heart web-intent"
                           href="https://twitter.com/intent/like?tweet_id=835124485632180224"
                           data-scribe="element:heart">
                            <div class="Icon Icon--heart TweetAction-icon" aria-label="J'aime" title="J'aime"
                                 role="img"></div>
                            <span class="TweetAction-stat" data-scribe="element:heart_count" aria-hidden="true">62&nbsp;684</span>
                            <span class="u-hiddenVisually">62&nbsp;684 j'aime</span>
                        </a></li>
                </ul>
            </div>
        </blockquote>
    </div>
</div>

<h1>Canvas</h1>

<script src="libs/html2canvas.min.js" charset="utf-8"></script>
<script src="libs/rasterizeHTML.allinone.js" charset="utf-8"></script>
<script>
    function takeHighResScreenshot(srcEl, destIMG, scaleFactor) {
        // Save original size of element
        var originalWidth = srcEl.offsetWidth;
        var originalHeight = srcEl.offsetHeight;
//        // Force px size (no %, EMs, etc)
//        srcEl.style.width = originalWidth + "px";
//        srcEl.style.height = originalHeight + "px";
//
//        // Position the element at the top left of the document because of bugs in html2canvas. The bug exists when supplying a custom canvas, and offsets the rendering on the custom canvas based on the offset of the source element on the page; thus the source element MUST be at 0, 0.
//        // See html2canvas issues #790, #820, #893, #922
//        srcEl.style.position = "absolute";
//        srcEl.style.top = "0";
//        srcEl.style.left = "0";
//
//        // Create scaled canvas
        console.log(originalWidth, originalHeight, originalWidth * scaleFactor, originalHeight * scaleFactor);
        var scaledCanvas = document.createElement("canvas");
        scaledCanvas.width = originalWidth * scaleFactor;
        scaledCanvas.height = originalHeight * scaleFactor;
        scaledCanvas.style.width = originalWidth + "px";
        scaledCanvas.style.height = originalHeight + "px";
        var scaledContext = scaledCanvas.getContext("2d");
        scaledContext.scale(scaleFactor, scaleFactor);

//        rasterizeHTML.drawDocument(srcEl, scaledCanvas);
        rasterizeHTML.drawURL(location.toString(), scaledCanvas);
        document.body.appendChild(scaledCanvas);

//        html2canvas(srcEl, {
//            canvas: scaledCanvas,
//            onrendered: function (canvas) {
//                document.body.appendChild(canvas);
//            }
//        });
//            .then(function(canvas) {
//                destIMG.src = canvas.toDataURL("image/png");
//                srcEl.style.display = "none";
//            });
    }

    takeHighResScreenshot(document.querySelector(".EmbeddedTweet"), "", 1);
//    takeHighResScreenshot(document.querySelector(".EmbeddedTweet"), "", 2);


    //    html2canvas(document.querySelector(".EmbeddedTweet"), {
    //        onrendered: function (canvas) {
    //            document.body.appendChild(canvas);
    //        },
    //        allowTaint: true,
    //        useCORS: true,
    //        letterRendering: true
    //    });
</script>

</body>
</html>
